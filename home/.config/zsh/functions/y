# yazi wrapper with cwd sync
function y() {
  local tmp=$(mktemp -t "yazi-cwd.XXXXX")
  command yazi "$@" --cwd-file="$tmp"
  local cwd
  if cwd=$(< "$tmp") && [[ -n "$cwd" && "$cwd" != "$PWD" && -d "$cwd" ]]; then
    builtin cd -- "$cwd"
  fi
  rm -f -- "$tmp"
}
